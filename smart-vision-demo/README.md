# Smart Vision Demo

`smart-vision-demo` λ””λ ‰ν„°λ¦¬λ” ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ νμ΄ν”„λΌμΈμ„ μ§μ ‘ μ²΄ν—ν•  μ μλ” **Gradio κΈ°λ° λ°λ¨ μ•±**μ„ μ κ³µν•©λ‹λ‹¤.
PaddleOCR-VL, BGE-VL, BGE-M3, Milvusκ°€ κ²°ν•©λ νμ΄ν”„λΌμΈμ„ ν΄λ¦­ λ‡ λ²μΌλ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.

---

## π“ λ””λ ‰ν„°λ¦¬ κµ¬μ„±

```
smart-vision-demo/
β”β”€β”€ app.py           # Gradio μ§„μ…μ  β€“ μΈλ±μ‹±/κ²€μƒ‰ νƒ­ UI
β”β”€β”€ run_demo.sh      # λ°λ¨ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ config.py        # λ°λ¨ ν™κ²½ μ„¤μ •(ν¬νΈ λ“±)
β”β”€β”€ requirements.txt # λ°λ¨ μμ΅΄μ„± λ©λ΅
β””β”€β”€ README.md
```

---

## π€ μ κ³µ κΈ°λ¥

- **Index Asset νƒ­**  
  μ¥λΉ„ μ΄λ―Έμ§€λ¥Ό μ—…λ΅λ“ν•κ³  Maker/Part Number/Category λ©”νƒ€λ°μ΄ν„°λ¥Ό μ…λ ¥ν•λ©΄
  μλ™μΌλ΅ μ „μ²λ¦¬(OCR+μ„λ² λ”©) ν›„ Milvusμ— μƒ‰μΈν•©λ‹λ‹¤.

- **Search νƒ­**  
  ν…μ¤νΈ, μ΄λ―Έμ§€, ννΈλ„λ²„ ν•„ν„°λ¥Ό μ΅°ν•©ν•΄ ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰μ„ μ‹¤ν–‰ν•κ³ ,
  κ²°ν•© μ μμ™€ κ²€μ¦ μ—¬λ¶€λ¥Ό JSON ν•νƒλ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.

---

## π› οΈ μ‹¤ν–‰ λ°©λ²•

1. **μμ΅΄μ„± μ„¤μΉ**
   ```bash
   pip install -r requirements.txt
   ```
   λ™μ‹μ— `smart-vision-model` ν¨ν‚¤μ§€κΉμ§€ μ„¤μΉν•κ±°λ‚ editable λ¨λ“λ΅ μ¶”κ°€ν•΄ μ£Όμ„Έμ”.

2. **Milvus μ¤€λΉ„**
   - λ΅μ»¬ λλ” μ›κ²© Milvusκ°€ μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.
   - κΈ°λ³Έ URIλ” `tcp://localhost:19530`μ΄λ©° ν•„μ”ν•λ©΄ ν™κ²½λ³€μ `MILVUS_URI`λ΅ μμ • κ°€λ¥ν•©λ‹λ‹¤.

3. **λ°λ¨ μ‹¤ν–‰**
   ```bash
   bash run_demo.sh
   ```
   νΉμ€ μ§μ ‘:
   ```bash
   python3 app.py
   ```

4. **λΈλΌμ°μ € μ ‘μ†**
   - κΈ°λ³Έ μ£Όμ†: [http://localhost:7860](http://localhost:7860)

---

## π§­ μ‚¬μ© λ°©λ²•

1. `bash run_demo.sh` λλ” `python app.py`λ΅ λ°λ¨λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
2. **Index Asset** νƒ­μ—μ„ μ΄λ―Έμ§€λ¥Ό μ—…λ΅λ“ν•κ³  λ©”νƒ€λ°μ΄ν„°λ¥Ό μ…λ ¥ν• λ’¤ `μΈλ±μ‹± μ‹¤ν–‰` λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.  
   β€“ μ„±κ³µ μ‹ β€β… μΈλ±μ‹±μ΄ μ™„λ£λμ—μµλ‹λ‹¤.β€ λ©”μ‹μ§€κ°€ ν‘μ‹λ©λ‹λ‹¤.
3. **Search** νƒ­μ—μ„ ν…μ¤νΈ, μ΄λ―Έμ§€, Part Number ν•„ν„°λ¥Ό μ΅°ν•©ν•μ—¬ `κ²€μƒ‰` λ²„νΌμ„ λ„λ¦…λ‹λ‹¤.  
   β€“ κ²°κ³Όλ” JSON ν•νƒλ΅ μ¶λ ¥λλ©°, `fusion_score`, `verified` λ“±μ„ λ°”λ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.
4. μ¶”κ°€ μ‹¤ν—μ„ μ„ν•΄ API(`smart-vision-api`)μ™€ λ™μΌν• Milvus μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•λ©΄ λ™μΌ λ°μ΄ν„°λ΅ κ²€μ¦μ΄ κ°€λ¥ν•©λ‹λ‹¤.

---

## π“¦ μ¶”κ°€ μ°Έκ³ 

- λ°λ¨λ” `smart_match.HybridSearchOrchestrator`λ¥Ό μ§μ ‘ ν™μ©ν•©λ‹λ‹¤.
- μƒλ΅ μƒ‰μΈν• λ°μ΄ν„°λ” Milvus μ»¬λ ‰μ…(`image_parts`, `text_parts`, `attrs_parts`)μ— μ €μ¥λ©λ‹λ‹¤.
- PaddleOCR-VL λ° BGE κ³„μ—΄ λ¨λΈμ€ μµμ΄ μ‹¤ν–‰ μ‹ κ°€μ¤‘μΉλ¥Ό μλ™ λ‹¤μ΄λ΅λ“ν•©λ‹λ‹¤.

μ¦κ±°μ΄ μ‹¤ν— λμ„Έμ”! π
