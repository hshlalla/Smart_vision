Smart Vision Demo Release Notes
===============================

## 2.0.0

### Added
- 레포 구조 리팩토링에 맞춰 데모 실행 기준 경로를 `apps/demo`로 통일했습니다.
- 문서 경로를 `docs/releasenote_demo.md`로 통합해 API/Model 릴리즈노트와 함께 관리하도록 정리했습니다.

### Changed
- Demo README의 실행/설치 경로를 canonical 구조(`apps/*`, `packages/*`, `data/*`) 기준으로 갱신했습니다.
- 데모 관련 산출물(.gradio, 로컬 OCR 캐시/가중치 임시물) 버전관리 제외 방향으로 정리했습니다.

### Removed
- 저장소에 포함되어 있던 `.gradio` 플래그/샘플 산출물과 `~/.paddleocr/...` 임시 파일 추적을 제거했습니다.

### Breaking
- 데모 루트가 `smart-vision-demo`에서 `apps/demo`로 물리 이동되었습니다.
- 기존 구경로 기반 스크립트/문서 참조는 `apps/demo` 기준으로 업데이트가 필요합니다.

## 1.3.0

### Added
- 하이브리드 파이프라인 인덱싱 과정에 단계별 타이밍 로그를 추가해 이미지별 병목(OCR, 임베딩, Milvus insert/flush)을 즉시 파악할 수 있습니다.
- 기본 로깅 설정을 추가해 별도 설정이 없더라도 콘솔에서 INFO 로그를 바로 확인할 수 있습니다.

### Changed
- 반복 인덱싱 시 동일 모델 메타데이터는 upsert로 병합하고, 이미지 단위 컬렉션은 새 PK를 배정해 추가하는 동작을 명시했습니다.

## 1.2.0

### Added
- `index_assets_bulk()` 헬퍼를 추가하여 리스트 형태의 다중 모델/이미지 등록을 한 번의 호출로 처리할 수 있습니다.
- `index_tracker_model()` 엔드포인트를 노출해 `data/tracker_subset.csv`와 `data/images/<MODEL_ID>/` 구조를 그대로 활용하면서 백엔드의 `index_tracker_model()`을 호출할 수 있습니다.
- 증분 스크립트와 동일한 구조로 구성된 환경(Tracker CSV + 이미지 폴더)이면 Gradio에서도 단일 모델 ID만으로 메타데이터·이미지를 자동 인덱싱할 수 있도록 버튼 액션을 정리했습니다.

### Changed
- 이미지 업로드 루틴에서 더 이상 UI가 `model_id::img_###` PK를 생성하지 않고, 오케스트레이터가 Milvus에 삽입하기 직전에 일련번호를 배정하도록 역할을 이관했습니다.
- 인덱싱 결과 메시지가 새로 등록/건너뛴 모델 ID 목록과 실패 사유를 구분해 보여주도록 정리돼, 대량 작업 시에도 상태 확인이 쉬워졌습니다.

## 1.1.0

### Added
- 메타데이터만으로도 인덱싱 가능한 플로우를 지원하고, Description 필드를 추가해 모델 단위 정보 관리가 가능해졌습니다.
- `ocr_markdown` 탭을 새로 추가하여 PaddleOCR-VL이 생성한 Markdown 결과를 즉시 렌더링할 수 있습니다.
- 검색 결과에 이미지가 존재하는 모델은 최대 9장의 썸네일을 갤러리로 미리보기할 수 있습니다.

### Changed
- 이미지 업로드 시 모델 단위 OCR 텍스트를 집계하고, 검색 결과가 모델 기준으로 그룹화되도록 UI 메시지를 보강했습니다.

## 1.0.0

### Added
- `single_asset_indexing` 탭: Model ID 필수 입력, 다중 이미지 업로드, 메타데이터 수집 지원.
- `Milvus Status` 탭: 컬렉션 엔티티 수 확인 및 개별 컬렉션 드롭 버튼 제공(개발/테스트 환경에서 활용).

### Changed
- 이미지 업로드 시 각 파일마다 `model_id::img_###` 형태의 고유 PK 를 생성해 다중 이미지도 안전하게 저장.
- 검색용 텍스트 상자/파라미터는 그대로 두되, 변화된 백엔드 스키마(PK/텍스트 코퍼스)에 맞춰 메시지를 보완.

### Fixed
- Gradio 5.4.0 의 JSON 스키마 파싱 버그(bool 스키마 처리)와 localhost 검증 문제를 우회하여 버튼 이벤트가 안정적으로 작동하도록 패치.
- Milvus 연결 실패 시 명확한 오류 반환 메시지를 유지하면서도 UI가 재시작 없이 계속 동작하도록 정리.
